<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"> <ui:composition
	template="template/template.xhtml">
	<ui:define name="content">
		<div class="botones-contenedor"> <div class="boton-item">
		<h:link outcome="temario.xhtml" styleClass="btn-img btn-rocky">
			<img src="assets/temario.gif" width="75" height="75" alt="Temario" />
		</h:link> <p class="btn-text">📖 Aprendamos Juntos</p> </div> <div class="boton-item">
		<h:link outcome="problemas.xhtml" styleClass="btn-img btn-skye">
			<img
				src="https://www.pngall.com/wp-content/uploads/15/Skye-Paw-Patrol-PNG-Picture.png"
				width="75" height="75" alt="Problemas" />
		</h:link> <p class="btn-text">🪁 Retos aéreos con Skye</p> </div> <div
			class="boton-item"> <h:link outcome="libros.xhtml"
			styleClass="btn-img btn-marshall">
			<img src="assets/book.gif" width="75" height="75" alt="Libros" />
		</h:link> <p class="btn-text">📚 Cuentos y Libros</p> </div> <div class="boton-item">
		<h:link outcome="links.xhtml" styleClass="btn-img btn-chase">
			<img src="assets/link.gif" width="75" height="75" alt="Links" />
		</h:link> <p class="btn-text">🌍 Aventuras en la web</p> </div> <div
			class="boton-item"> <h:link outcome="eventos.xhtml"
			styleClass="btn-img btn-rubble">
			<img src="assets/calendario.gif" width="75" height="75" alt="Eventos" />
		</h:link> <p class="btn-text">🎉 Actividades y Juegos</p> </div> </div>


		<div class="main"
			style="display: flex; justify-content: center; align-items: center; flex-direction: column; width: 100%;">


		<p:panel
			header="🌸 ¡Los retos son aventuras en el aire, vamos a disfrutarlos!"
			styleClass="ui-panel custom-panel"
			style="width: 100%; max-width: 1000px; margin: 20px auto;">
			<h:form id="formProblemas">
				<p:messages id="messages" showDetail="true" showIcon="true">
					<p:autoUpdate />
				</p:messages>
				<p:growl id="growl-sticky" for="sticky-key" showDetail="true"
					sticky="true" />

				<p:dataTable value="#{problemabean.problemas}" var="prob"
					paginator="true" rows="10" responsiveLayout="scroll"
					class="compact" rowIndexVar="i">
					<p:column headerText="🆔 ID">
						<h:outputText value="#{i + 1}" />
					</p:column>
					<p:column headerText="📝 Nombre">
						<h:outputText value="#{prob.nombre}" />
					</p:column>
					<p:column headerText="🌟 Dificultad">
						<h:outputText value="#{prob.dificultad}" />
					</p:column>
					<p:column headerText="📚 Tema">
						<h:outputText value="#{prob.tema}" />
					</p:column>
					<p:column headerText="🌐 Juez">
						<p:button value="Jugar" icon="pi pi-external-link"
							href="#{prob.juez}" target="_blank"
							styleClass="validate-button bold-comic" />
					</p:column>
					<p:column headerText="⚙️ Acciones"
						rendered="#{problemabean.adminIniciada}">
						<p:commandButton value="Eliminar" update="formProblemas"
							process="@this" action="#{problemabean.eliminarProblema(prob)}"
							styleClass="delete-button bold-comic" icon="pi pi-trash" />
					</p:column>
				</p:dataTable>
			</h:form>
		</p:panel> <p:panel
			header="🐶 ¡Sí! Crear retos nos hace más fuertes como equipo, ¡al rescate!"
			styleClass="ui-panel custom-panel"
			style="width: 100%; max-width: 600px; margin: 20px auto;"
			rendered="#{problemabean.adminIniciada}">
			<h:form id="formNuevoReto">
				<h:panelGrid columns="1" columnClasses="form-field"
					style="width:100%; max-width: 500px; margin: 0 auto;">
					<h:outputLabel for="nombre" value="Nombre:" />
					<p:inputText id="nombre" value="#{problemabean.nombre}"
						required="true" placeholder="Ejemplo: Laberinto"
						styleClass="form-input" />

					<h:outputLabel for="dificultad" value="Dificultad:" />
					<p:inputText id="dificultad" value="#{problemabean.dificultad}"
						required="true" placeholder="Ejemplo: 5" styleClass="form-input" />

					<h:outputLabel for="tema" value="Tema" />
					<p:inputText id="tema" value="#{problemabean.tema}" required="true"
						placeholder="Análisis de grafos" styleClass="form-input" />

					<h:outputLabel for="enlace" value="Enlace" />
					<p:inputText id="enlace" value="#{problemabean.juez}"
						required="true" placeholder="https://ejemplo.com/problema123"
						styleClass="form-input" style="width: 100%;" />

					<p:separator style="margin: 15px 0;" />

					<div style="text-align: center;"> <p:commandButton
						value="¡Guardar mi reto! 🎉"
						action="#{problemabean.crearProblema}" process="@form"
						update="@all" icon="pi pi-save"
						styleClass="save-button validate-button bold-comic" /> </div>
				</h:panelGrid>
			</h:form>
		</p:panel> </div>


	</ui:define>
</ui:composition> </html>

