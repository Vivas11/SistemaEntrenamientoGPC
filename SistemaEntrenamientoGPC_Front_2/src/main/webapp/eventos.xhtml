<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"> <ui:composition
	template="template/template.xhtml">
	<ui:define name="content">

		<div class="botones-contenedor"> <div class="boton-item">
		<h:link outcome="temario.xhtml" styleClass="btn-img btn-rocky">
			<img src="assets/temario.gif" width="75" height="75" alt="Temario" />
		</h:link> <p class="btn-text">📖 Aprendamos Juntos</p> </div> <div class="boton-item">
		<h:link outcome="problemas.xhtml" styleClass="btn-img btn-skye">
			<img src="assets/problemas.gif" width="75" height="75"
				alt="Problemas" />
		</h:link> <p class="btn-text">🧩 Retos divertidos</p> </div> <div class="boton-item">
		<h:link outcome="libros.xhtml" styleClass="btn-img btn-marshall">
			<img src="assets/book.gif" width="75" height="75" alt="Libros" />
		</h:link> <p class="btn-text">📚 Cuentos y Libros</p> </div> <div class="boton-item">
		<h:link outcome="links.xhtml" styleClass="btn-img btn-chase">
			<img src="assets/link.gif" width="75" height="75" alt="Links" />
		</h:link> <p class="btn-text">🌍 Aventuras en la web</p> </div> <div
			class="boton-item"> <h:link outcome="eventos.xhtml"
			styleClass="btn-img btn-rubble">
			<img
				src="https://candybargratis.com/wp-content/uploads/2023/09/bonobon-candy-bar-PAW-PATROL-PERSONAJES-RUBBLE-kit-imprimible.png"
				width="75" height="75" alt="Eventos" />
		</h:link> <p class="btn-text">🏗️ Actividades con Rubble</p> </div> </div>

		<div class="main"
			style="display: flex; justify-content: center; align-items: center; flex-direction: column; width: 100%;">

		<p:panel header="🗓️🐾 ¡Vamos a ver qué tenemos construido en el calendario! 🗓️🐾">

			<div class="card card-custom"> <p:messages id="messages" showDetail="true"
				showIcon="false">
				<p:autoUpdate />
			</p:messages> <p:growl id="growl-sticky" for="sticky-key" showDetail="true"
				sticky="true" /> <h:form id="formEventosEliminar">
				<p:schedule id="schedule" value="#{eventbean.eventModel}"
					widgetVar="myschedule" timeZone="UTC" draggable="false"
					resizable="false" selectable="false" allDaySlot="true"
					aspectRatio="1.5" styleClass="bold-comic">

					<p:ajax event="eventSelect" listener="#{eventbean.onEventSelect}"
						update=":formEventosEliminar:dialogDetalle"
						oncomplete="PF('dlgDetalle').show()" />
				</p:schedule>

				<p:dialog id="dialogDetalle" header="Detalles del Evento"
					widgetVar="dlgDetalle" modal="true" resizable="false"
					closable="true" width="400">

					<h:panelGrid columns="2" cellpadding="5">
						<h:outputText value="Título:" styleClass="bold-comic" />
						<h:outputText value="#{eventbean.event.title}"
							styleClass="bold-comic" />

						<h:outputText value="Descripción:" styleClass="bold-comic" />
						<h:outputText value="#{eventbean.event.description}"
							styleClass="bold-comic" />

						<h:outputText value="Inicio:" styleClass="bold-comic" />
						<h:outputText value="#{eventbean.event.startDate}"
							styleClass="bold-comic" />

						<h:outputText value="Fin:" styleClass="bold-comic" />
						<h:outputText value="#{eventbean.event.endDate}"
							styleClass="bold-comic" />

						<p:commandButton value="Eliminar"
							rendered="#{eventbean.adminIniciada}"
							action="#{eventbean.eliminarEvento(eventbean.event)}"
							process="@this"
							update=":formEventosEliminar:schedule formEventos"
							oncomplete="PF('dlgDetalle').hide()" icon="pi pi-trash"
							styleClass="delete-button bold-comic" />

					</h:panelGrid>
				</p:dialog>
			</h:form> </div>
			<h:form id="formEventos" rendered="#{eventbean.adminIniciada}">
				<p:panel header="🚧🐾 ¡Hora de construir un nuevo evento! 🚧🐾" > 
					<h:panelGrid columns="1" columnClasses="label,value"
						style="width:100%">

						<h:outputLabel for="nombreEvento" value="Nombre:" />
						<p:inputText id="nombreEvento" value="#{eventbean.nombre}"
							required="true" placeholder="Competencia de programación"
							styleClass="form-input" />

						<h:outputLabel for="fechaEvento" value="Fecha:" />
						<p:datePicker id="fechaEvento" value="#{eventbean.fecha}"
							showIcon="true" showOnFocus="true" styleClass="form-input"
							placeholder="02/11/25" />

						<h:outputLabel for="descripcionEvento" value="Descripción:" />
						<p:inputTextarea id="descripcionEvento"
							value="#{eventbean.descripcion}" required="true"
							placeholder="Detalles del evento..." styleClass="form-input"
							rows="3" autoResize="true" />
					</h:panelGrid>

					<p:separator />

					<p:commandButton value="Guardar"
						action="#{eventbean.agregarEvento}" process="@form"
						update=":formEventosEliminar:schedule formEventos"
						icon="pi pi-save" styleClass="ui-button-success save-button" />
				</p:panel>
			</h:form>
		</p:panel></div>
	</ui:define>
</ui:composition> </html>